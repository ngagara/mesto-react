{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/close.svg","components/PopupWithForm.js","components/EditProfilePopup.js","components/ImagePopup.js","components/AddCardPopup.js","utils/api.js","components/App.js","index.js"],"names":["Header","className","src","logo","alt","Footer","Context","React","createContext","Card","name","link","card","onCardClick","onCardLike","onCardDel","userContext","useContext","isCurrentUser","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","style","backgroundImage","onClick","length","Main","onEditProfile","onAddPlace","mainContext","cards","isCards","avatar","about","map","item","index","PopupWidthForm","title","children","isOpen","onClose","onSubmit","closeImage","type","EditProfilePopup","onUpdateUser","useState","isName","setName","isDescription","setDescription","useEffect","e","preventDefault","id","minLength","maxLength","placeholder","required","value","onChange","target","ImagePopup","isSelectedCard","AddCardPopup","inputNameRef","useRef","inputLinkRef","current","ref","api","options","this","baseUrl","headers","fetch","then","res","ok","json","Promise","reject","status","namePerson","aboutPerson","method","body","JSON","stringify","cardId","aseUrl","nameInput","aboutInput","authorization","App","setCurrentUser","setCards","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isImagePopupOpen","setImagePopupOpen","setSelectedCard","getUserInfo","catch","err","console","log","getInitialCards","closePopup","Provider","deleteCard","newArrCards","filter","element","handleCardDelete","changeLikeCardStatus","newCard","newCards","c","handleCardLike","handleCardClick","postCard","info","updateUserInfo","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4f22c92e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.fad4f8a5.svg\";","import React from 'react';\r\n\r\nimport logo from '../images/logo.svg'\r\n\r\nfunction Header() {\r\n    return (\r\n      <header className=\"header root__section\">\r\n         <img src={logo} alt=\"mesto logo\" className=\"logo\"/>\r\n      </header>\r\n    );\r\n  }\r\n  \r\n  export default Header;\r\n  ","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer page__footer root__section\">\r\n      <p className=\"footer__copyright\">\r\n        &copy; 2021 Mesto Russia\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nexport const Context = React.createContext();\r\n","import React from \"react\";\r\n\r\nimport { Context } from '../contexts/CurrentUserContext'\r\n\r\nfunction Card({name, link, card, onCardClick, onCardLike, onCardDel}) {\r\n\r\n  const mainContext = React.useContext(Context);\r\n  \r\n  const userContext = mainContext.isCurrentUser;\r\n\r\n  const isOwn = card.owner._id === userContext._id; \r\n\r\n  const isLiked = card.likes.some(i => i._id === userContext._id);\r\n\r\n  const cardLikeButtonClassName = (`place-card__like-icon  ${isLiked ? 'place-card__like-icon_liked' : ''}`); \r\n\r\n  const cardDeleteButtonClassName = (\r\n  `place-card__delete-icon ${isOwn ? 'place-card__delete-icon_visible' : 'place-card__delete-icon_hidden'}`\r\n   ); \r\n\r\n  return (\r\n    <div className=\"place-card\">\r\n    <div className=\"place-card__image\" style={{ backgroundImage: `url(${link})`}} onClick={()=>onCardClick(link)}>\r\n      <button className={cardDeleteButtonClassName} onClick={()=>onCardDel(card)}></button>\r\n    </div>\r\n    <div className=\"place-card__description\">\r\n      <h3 className=\"place-card__name\">{name}</h3>\r\n      <div className=\"place-card__item-container\">\r\n      <button className={cardLikeButtonClassName} onClick={()=>onCardLike(card)}></button>\r\n      <p className=\"place-card__counter\">{card.likes.length}</p>\r\n      </div>\r\n    </div>\r\n </div> \r\n  );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\n\r\nimport Card from './Card'\r\n\r\nimport { Context } from '../contexts/CurrentUserContext'\r\n\r\nfunction Main({onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDel}) {\r\n\r\n  const mainContext = React.useContext(Context);\r\n  \r\n  const cards = mainContext.isCards;\r\n  const userContext = mainContext.isCurrentUser;\r\n  \r\n  return (\r\n    <main className=\"content page__content\">\r\n       <section className=\"profile root__section\">\r\n      <div className=\"user-info\">\r\n        <img className=\"user-info__photo\" src={userContext.avatar}/>\r\n        <div className=\"user-info__data\">\r\n          <h1 className=\"user-info__name\">{userContext.name}</h1>\r\n          <p className=\"user-info__job\">{userContext.about}</p>\r\n          <button className=\"button button__open-edit\" onClick={onEditProfile}>Edit</button>\r\n        </div>\r\n        <button className=\"button button_open-add user-info__button\" onClick={onAddPlace}>+</button>\r\n      </div>\r\n    </section>\r\n    <section className=\"places-list root__section\">    \r\n    {cards && cards.map((item, index) => (<Card key={index} card={item} onCardDel={onCardDel} onCardLike={onCardLike} onCardClick={onCardClick} link={item.link} name={item.name} />))}\r\n    </section>\r\n\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","export default __webpack_public_path__ + \"static/media/close.8a65f75d.svg\";","import React from 'react';\r\nimport closeImage from '../images/close.svg'\r\n\r\nfunction PopupWidthForm({title, name, children, isOpen, onClose, onSubmit}) {\r\n\r\n  return (\r\n    <div className={`popup popup_${name} ${isOpen ? 'popup_is-opened' : ''}`}>\r\n      <div className=\"popup__content\">\r\n        <img src={closeImage} alt=\"Close button\" className=\"popup__close\" onClick={onClose}/>\r\n        <h3 className=\"popup__title\">{title}</h3>\r\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\r\n           {children}\r\n           <button type=\"submit\" className=\"button popup__button popup__button_activ\">Сохранить</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWidthForm;","import React, { useState, useEffect } from \"react\";\r\n\r\nimport PopupWidthForm from './PopupWithForm'\r\n\r\nimport { Context } from '../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n\r\n  const mainContext = React.useContext(Context);\r\n  const userContext = mainContext.isCurrentUser;\r\n\r\n    const [isName, setName] = useState('');\r\n    const [isDescription, setDescription] = useState('');\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n          isName,\r\n          isDescription,\r\n        });\r\n      }\r\n    \r\n     useEffect(() => {\r\n        setName(userContext.name);\r\n        setDescription(userContext.about);\r\n      }, [userContext]);\r\n\r\n  return (\r\n    <PopupWidthForm isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} name={'edit-info'} title={'Редактировать профиль'} >\r\n      <input id=\"user-name\" type=\"text\" minLength=\"2\" maxLength=\"30\" className=\"popup__input\" placeholder=\"Имя\" required\r\n      value={isName || ''}\r\n      onChange={handleChangeName}\r\n      />\r\n      <span id=\"user-name-error\" className=\"error\"></span>\r\n      <input id=\"user-info\" type=\"text\" minLength=\"2\" maxLength=\"30\"className=\"popup__input\" placeholder=\"О себе\" required\r\n      value={isDescription || ''}\r\n      onChange={handleChangeDescription}\r\n      />\r\n      <span id=\"user-info-error\" className=\"error\"></span>\r\n    </PopupWidthForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport closeImage from '../images/close.svg'\r\n\r\nfunction ImagePopup({isSelectedCard, onClose, isOpen}) {\r\n  return (\r\n    <div className={`popup popup_image ${isOpen ? 'popup_is-opened' : ''}`}>\r\n      <div className=\"popup__conteiner\">\r\n        <img className=\"popup__picture\" src={isSelectedCard}/>\r\n        <img src={closeImage} alt=\"\" className=\"popup__close\" onClick={onClose}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default ImagePopup;","import React from \"react\";\r\n\r\nimport PopupWidthForm from './PopupWithForm'\r\n\r\nfunction AddCardPopup({ isOpen, onClose, onAddPlace }) {\r\n\r\n    const inputNameRef = React.useRef('');\r\n    const inputLinkRef = React.useRef('');\r\n    \r\n    function handleSubmit(e) {\r\n      e.preventDefault();\r\n  \r\n      onAddPlace({\r\n        name: inputNameRef.current.value,\r\n        link: inputLinkRef.current.value\r\n      });\r\n    } \r\n\r\n  return (\r\n    <PopupWidthForm isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} name={'add-card'} title={'Новое место'}>\r\n      <input ref={inputNameRef} id=\"name\" type=\"text\" minLength=\"2\" maxLength=\"30\" className=\"popup__input popup__input_type_edit-info\" placeholder=\"Название\" required/>\r\n      <span id=\"name-error\" className=\"error\"></span>\r\n      <input ref={inputLinkRef} id=\"link\" type=\"url\" className=\"popup__input popup__input_type_link-url\" placeholder=\"Ссылка на картинку\" required/>\r\n      <span id=\"link-error\" className=\"error\"></span>\r\n    </PopupWidthForm>\r\n  );\r\n}\r\n\r\nexport default AddCardPopup;","class Api {\r\n  constructor(options) {\r\n      this.baseUrl = options.baseUrl;\r\n      this.headers = options.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n      return fetch(`${this.baseUrl}/cards`, {\r\n          headers: this.headers\r\n      })\r\n          .then(res => {\r\n              if (!res.ok) {\r\n                  return Promise.reject(`Ошибка:${res.status}. Запрос не выполнен.`);\r\n              } else {\r\n                  return res.json();\r\n              }\r\n          })\r\n  };\r\n\r\n  getUserInfo() {\r\n      return fetch(`${this.baseUrl}/users/me`, {\r\n          headers: this.headers\r\n      })\r\n          .then(res => {\r\n              if (!res.ok) {\r\n                  return Promise.reject(`Ошибка:${res.status}. Запрос не выполнен.`);\r\n              } else {\r\n                  return res.json();\r\n              }\r\n          })\r\n  };\r\n\r\n  editUserInfo(namePerson, aboutPerson) {\r\n      return fetch(`${this.baseUrl}/users/me`, {\r\n          method: 'PATCH',\r\n          headers: this.headers,\r\n          body: JSON.stringify({\r\n              name: namePerson,\r\n              about: aboutPerson\r\n          })\r\n      })\r\n          .then(res => {\r\n              if (!res.ok) {\r\n                  return Promise.reject(`Ошибка:${res.status}`);\r\n              } else {\r\n                  return res.json();\r\n              }\r\n          })\r\n  }\r\n\r\n   changeLikeCardStatus(cardId, status) {\r\n      return fetch(`${this.baseUrl}/cards/like/${cardId}`, {\r\n        method: (status) ? 'PUT' : 'DELETE',\r\n        headers: this.headers,\r\n      }).then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n   }\r\n\r\n   deleteCard(id) {\r\n    return fetch(`${this.aseUrl}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this.headers,\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  };\r\n\r\n  updateUserInfo (nameInput, aboutInput) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: nameInput,\r\n        about: aboutInput,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Произошла ужасная ошибка: ${res.status}`);\r\n    });\r\n  };\r\n\r\n  postCard (name, link) {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  };\r\n\r\n};\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://nomoreparties.co/cohort11\",\r\n  headers: {\r\n    authorization: 'a0621f41-ad7c-4fb1-8764-077b435bf777',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;","import React, { useState, useEffect } from \"react\";\n\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport PopupWidthForm from './PopupWithForm'\nimport EditProfilePopup from './EditProfilePopup'\nimport ImagePopup from './ImagePopup'\nimport AddCardPopup from './AddCardPopup'\n\nimport {Context} from '../contexts/CurrentUserContext'\n\nimport api from '../utils/api'\n\nfunction App() {\n\n  const [isCurrentUser, setCurrentUser] = useState({});\n  const [isCards, setCards] = useState([]);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\n  const [isSelectedCard, setSelectedCard] = useState('');\n\n  useEffect(() => {\n    api.getUserInfo().then((res) => {\n      setCurrentUser(res)\n    }).catch((err) => {\n      console.log(err);\n    });\n\n    api.getInitialCards().then((res) => {\n      setCards(res)\n    }).catch((err) => {\n      console.log(err);\n    });\n },[]);\n\n let handleCardLike = (card) => {\n\n  const isLiked = card.likes.some(i => i._id === isCurrentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = isCards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n\n    });\n }\n\n  let handleCardDelete = (card) => {\n    api.deleteCard(card._id).then(() => {\n        const newArrCards = isCards.filter(element => element !== card);\n        setCards(newArrCards);\n      }).catch((err) => console.log(err));\n  }\n\n  let handleAddPlaceSubmit = (card) => {\n    api.postCard(card.name, card.link).then((card) => {\n      setCards([...isCards, card]);\n      closePopup();\n    })\n    .catch((err) => console.log(err));\n  }\n\n  let handleUpdateUser = (info) => {\n    api.updateUserInfo(info.isName, info.isDescription).then((info) => {\n        setCurrentUser(info);\n        closePopup();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  let handleEditProfileClick = () => {\n    setEditProfilePopupOpen(true);\n  }\n\n  let handleAddPlaceClick = () => {\n    setAddPlacePopupOpen(true)\n  }\n\n  let handleCardClick = (link) =>{\n    setImagePopupOpen(true)\n    setSelectedCard(link)\n  }\n  \n  let closePopup = () => {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setImagePopupOpen(false)\n  }\n\n  return (\n  <Context.Provider value={{isCurrentUser, isCards}}>\n    <Header/>\n    <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onCardDel={(card)=>{handleCardDelete(card)}} onCardLike={(card)=>{handleCardLike(card)}} onCardClick={(link) => {handleCardClick(link)}}/>\n    <AddCardPopup isOpen={isAddPlacePopupOpen} onClose={closePopup} onAddPlace={handleAddPlaceSubmit}/>\n    <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closePopup} onUpdateUser={handleUpdateUser}/>\n    <ImagePopup isSelectedCard={isSelectedCard} onClose={closePopup} isOpen={isImagePopupOpen}/>\n    <Footer/>\n  </Context.Provider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}